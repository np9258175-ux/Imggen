<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Magic Hour Image Generator</title>
</head>
<body>
  <h1>Magic Hour - Text to Image</h1>

  <textarea id="prompt" rows="4" cols="50" placeholder="Enter prompt"></textarea><br>
  <button onclick="generateImage()">Generate</button><br><br>

  <div id="result"></div>
  <pre id="log"></pre>

  <script src="js/app.js"></script>
</body>
</html>        resultDiv.innerHTML = "⏳ Generation started, waiting for image...";

        const interval = setInterval(async () => {
          const statusResp = await fetch(`https://api.magichour.ai/v1/ai-image-generator/${genId}`, {
            headers: { "Authorization": `Bearer ${API_KEY}` }
          });
          const statusData = await statusResp.json();
          logDiv.innerText += "Polling response:\n" + JSON.stringify(statusData, null, 2) + "\n";

          if (statusData.outputs && statusData.outputs.length > 0 && statusData.outputs[0].url) {
            clearInterval(interval);
            const imageUrl = statusData.outputs[0].url;
            resultDiv.innerHTML = `<img src="${imageUrl}" alt="Generated Image">`;
            logDiv.innerText += "✅ Image ready and displayed.\n";
          } else if (statusData.status === "failed") {
            clearInterval(interval);
            resultDiv.innerHTML = "❌ Image generation failed.";
            logDiv.innerText += "⚠️ Generation failed.\n";
          } else {
            resultDiv.innerHTML = "⏳ Generating image... please wait.";
          }
        }, 2000);

      } catch (err) {
        resultDiv.innerHTML = "⚠️ Error occurred!";
        logDiv.innerText += "Error: " + err.message + "\n";
      }
    }
  </script>
</body>
</html>
